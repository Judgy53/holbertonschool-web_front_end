<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 10</title>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script type="application/javascript">
            function addPostRow(data) {
                $('body').append(`<p><span>Post created with id: ${data.id}, title: ${data.title}, author: ${data.author}</span></p>`);
            }

            function listPosts() {
                $.get({
                    url: 'http://localhost:3000/posts',
                    dataType: 'json',
                    statusCode: {
                        200: function(data) {
                            data.forEach(element => {
                                addPostRow(element);
                            });
                        }
                    }
                }).fail(function() {
                    alert('Server Error');
                });
            }

            $.when( $.ready ).then(function() {
                listPosts();
            });
        </script>
    </head>

    <body>

    </body>

</html>